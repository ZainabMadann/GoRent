@model List<ClassLibrary.Model.RentalRequest>

@if (!Model.Any())
{
    <div class="text-muted">No currently rented equipment.</div>
}
else
{
    foreach (var request in Model)
    {
        var daysRemaining = (request.EndDate - DateTime.Today).Days;
        <div class="card bg-secondary text-white mb-3">
            <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                    <p class="mb-1"><strong>Request ID:</strong> #@request.RentalRequestId</p>
                    <p class="mb-1"><strong>Equipment:</strong> @request.Equipment?.Name</p>
                    <p class="mb-1"><strong>Status:</strong> @request.RequestStatus?.Name</p>
                    <p class="mb-1"><strong>Start Date:</strong> @request.StartDate.ToString("dd MMM yyyy")</p>
                    <p class="mb-1"><strong>End Date:</strong> @request.EndDate.ToString("dd MMM yyyy")</p>
                    <p class="mb-1"><strong>Days Remaining:</strong> @daysRemaining</p>
                </div>
                <button class="btn btn-sm btn-outline-light fw-bold"
                        onclick="window.location.href='@Url.Action("RequestDetails", "Rental", new { id = request.RentalRequestId })'">
                    View
                </button>
            </div>
        </div>
    }
}
